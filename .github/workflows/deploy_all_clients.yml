# See: https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions

name: 'Deploy Portal & Service to all clients'

permissions:
  actions: read
  deployments: write

on:
  workflow_dispatch:

jobs:
  deploy_drc:
    name: 'Build + Deploy: DRC'
    uses: ./.github/workflows/deploy_client-drc_all.yml
    secrets: inherit

  deploy_eswatini:
    name: 'Build + Deploy: Eswatini'
    needs: deploy_drc
    uses: ./.github/workflows/deploy_client-eswatini_all.yml
    secrets: inherit

  deploy_ethiopia:
    name: 'Build + Deploy: Ethiopia'
    needs: deploy_eswatini
    uses: ./.github/workflows/deploy_client-ethiopia_all.yml
    secrets: inherit

  deploy_greece:
    name: 'Build + Deploy: Greece'
    needs: deploy_ethiopia
    uses: ./.github/workflows/deploy_client-greece_all.yml
    secrets: inherit

  deploy_ivorycoast:
    name: 'Build + Deploy: Ivory Coast'
    needs: deploy_greece
    uses: ./.github/workflows/deploy_client-ivorycoast_all.yml
    secrets: inherit

  deploy_jrethiopia:
    name: 'Build + Deploy: JREthiopia'
    needs: deploy_ivorycoast
    uses: ./.github/workflows/deploy_client-jrethiopia_all.yml
    secrets: inherit

  deploy_krcs:
    name: 'Build + Deploy: KRCS'
    needs: deploy_jrethiopia
    uses: ./.github/workflows/deploy_client-krcs_all.yml
    secrets: inherit

  deploy_nlrc:
    name: 'Build + Deploy: NLRC'
    needs: deploy_krcs
    uses: ./.github/workflows/deploy_client-nlrc_all.yml
    secrets: inherit

  deploy_slovakia:
    name: 'Build + Deploy: Slovakia'
    needs: deploy_nlrc
    uses: ./.github/workflows/deploy_client-slovakia_all.yml
    secrets: inherit

  deploy_somalia:
    name: 'Build + Deploy: Somalia'
    needs: deploy_slovakia
    uses: ./.github/workflows/deploy_client-somalia_all.yml
    secrets: inherit

  deploy_southafrica:
    name: 'Build + Deploy: South Africa'
    needs: deploy_somalia
    uses: ./.github/workflows/deploy_client-southafrica_all.yml
    secrets: inherit

  deploy_sudan:
    name: 'Build + Deploy: Sudan'
    needs: deploy_southafrica
    uses: ./.github/workflows/deploy_client-sudan_all.yml
    secrets: inherit

  deploy_zambia:
    name: 'Build + Deploy: Zambia'
    needs: deploy_sudan
    uses: ./.github/workflows/deploy_client-zambia_all.yml
    secrets: inherit
