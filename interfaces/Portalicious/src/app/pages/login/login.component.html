<div class="flex min-h-screen flex-col">
  <p-toolbar>
    <ng-template pTemplate="start">
      <app-logo />
    </ng-template>
  </p-toolbar>
  <div class="flex flex-1">
    <div
      class="flex w-full shrink-0 flex-col gap-6 bg-white px-[16px] py-8 md:w-1/3"
    >
      <h1 i18n>Log in</h1>
      <p i18n>Use your work email to log in.</p>
      <form
        [formGroup]="loginForm"
        (ngSubmit)="onLogin()"
      >
        <div class="flex flex-col gap-2">
          <label>
            <ng-container i18n>E-mail</ng-container>
            <input
              pInputText
              id="email"
              type="email"
              formControlName="email"
              placeholder="example: yourname@example.org"
              i18n-placeholder
              autocomplete="email username"
              class="mt-2 block w-full"
            />
          </label>
          <app-form-error
            [visible]="loginFormSubmitted() && loginForm.controls.email.invalid"
            error="Enter a valid email address"
            i18n-error
          />
          <!-- eslint-disable-next-line @angular-eslint/template/label-has-associated-control -->
          <label>
            <ng-container i18n>Password</ng-container>
            <p-password
              formControlName="password"
              [toggleMask]="true"
              [feedback]="false"
              autocomplete="current-password"
              styleClass="w-full [&_input]:w-full mt-2"
            />
          </label>
          <app-form-error
            [visible]="
              loginFormSubmitted() && loginForm.controls.password.invalid
            "
            error="Enter your password"
            i18n-error
          />
          <p-button
            label="Log in"
            i18n-label
            type="submit"
            [loading]="loginMutation.isPending()"
            rounded
            class="mt-8"
          />
          <app-form-error
            [visible]="loginMutation.isError()"
            [error]="loginMutation.failureReason()?.message"
          />
          <p i18n>
            Forgot your password?
            <a
              href="mailto:support@510.global?subject=Request Password reset for 121 Platform"
              class="text-blue-500 underline"
              target="_blank"
            >
              Request password reset</a
            >
          </p>
          <p i18n>
            Read our
            <a
              href="https://510.global/privacy-policy/"
              class="text-blue-500 underline"
              target="_blank"
              >Privacy statement <i class="pi pi-external-link ml-1 text-xs"></i
            ></a>
          </p>
        </div>
      </form>
    </div>
    <div class="relative hidden grow md:block">
      <img
        ngSrc="assets/login.jpeg"
        fill
        priority
        alt=""
        aria-hidden="true"
        role="presentation"
        class="object-cover"
      />
    </div>
  </div>
  <app-cookie-banner />
</div>
