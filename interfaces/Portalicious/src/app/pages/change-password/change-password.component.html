<app-page-layout>
  <div class="pt-6">
    <h1
      i18n="@@page-title-change-password"
      class="min-w-48 text-3xl"
    >
      Change password
    </h1>
  </div>
  <div class="mt-4 w-full shrink-0 bg-white p-4">
    <div class="max-w-xl">
      <app-form-default
        [formGroup]="formGroup"
        submitButtonText="Change password"
        i18n-submitButtonText
        [mutation]="changePasswordMutation"
      >
        <app-form-field-wrapper
          label="Current Password"
          i18n-label
          [errorMessage]="formFieldErrors()('currentPassword')"
        >
          <p-password
            data-testid="current-password"
            formControlName="currentPassword"
            autocomplete="current-password"
            [toggleMask]="true"
            [feedback]="false"
            pAutoFocus
            autofocus
          />
        </app-form-field-wrapper>
        <app-form-field-wrapper
          label="New Password"
          i18n-label
          [errorMessage]="formFieldErrors()('newPassword')"
        >
          <p-password
            data-testid="new-password"
            formControlName="newPassword"
            autocomplete="new-password"
            [toggleMask]="true"
            [feedback]="false"
          />
        </app-form-field-wrapper>
        <app-form-field-wrapper
          label="Confirm Password"
          i18n-label
          [errorMessage]="formFieldErrors()('confirmPassword')"
        >
          <p-password
            data-testid="confirm-password"
            formControlName="confirmPassword"
            [toggleMask]="true"
            [feedback]="false"
          />
        </app-form-field-wrapper>
      </app-form-default>
    </div>
  </div>
</app-page-layout>
