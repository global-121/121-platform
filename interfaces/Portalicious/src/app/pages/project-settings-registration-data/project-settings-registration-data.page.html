<app-project-settings-page-layout [projectId]="projectId()"
  ><p-card styleClass="[&_.p-card]:border [&_.p-card]:border-grey-300">
    <h2
      i18n
      class="mb-4"
    >
      Registration integration
    </h2>

    @if (koboIntegration.isPending()) {
      <app-skeleton-inline />
    } @else if (koboIntegration.isSuccess()) {
      <app-card-with-link
        title="Kobo toolbox"
        i18n-title
        [href]="koboIntegration.data().url"
      >
        <ng-container card-content>
          <span i18n>Link to the form</span>
        </ng-container>
      </app-card-with-link>
    } @else {
      <p
        i18n
        class="mb-6"
      >
        Select a registration tool you want to integrate to the project.
      </p>

      <div class="flex gap-4">
        <app-integrate-kobo-button
          [projectId]="projectId()"
          class="block w-1/2"
        />
        <app-import-excel-table-button
          [projectId]="projectId()"
          class="block w-1/2"
        />
      </div>
    }
  </p-card>

  @if (koboIntegration.data()) {
    <p-card class="mt-4 block">
      <h2
        i18n
        class="mb-4"
      >
        Registration questions
      </h2>

      <app-registration-questions-table [projectId]="projectId()" />
    </p-card>

    <p-card class="mt-4 block">
      <h2
        i18n
        class="mb-4"
      >
        De-duplication
      </h2>

      <p i18n>
        Select the questions you would like to use as duplication indicators.
        Note that some FSPs may require unique fields.
      </p>

      <p i18n>Coming soon!</p>
    </p-card>
  }
</app-project-settings-page-layout>
