<p-button
  (click)="menu.toggle($event)"
  rounded
  [outlined]="outlined()"
  [plain]="plain()"
  [text]="text()"
  [size]="size()"
>
  <span class="inline-flex items-center gap-2">
    @if (icon()) {
      <span [class]="'p-button-icon ' + icon()"></span>
    }
    <span class="p-button-label">{{ label() }}</span>
    <span
      class="p-button-icon p-button-icon-right pi"
      [ngClass]="{
        'pi-chevron-up': menuOpen(),
        'pi-chevron-down': !menuOpen(),
      }"
    ></span>
  </span>
</p-button>
<p-menu
  #menu
  [model]="menuItems()"
  [popup]="true"
  (onShow)="menuOpen.set(true)"
  (onHide)="menuOpen.set(false)"
  [appendTo]="'body'"
  styleClass="mt-3"
>
  <ng-template pTemplate="start">
    <ng-content select="[menu-start]"></ng-content>
  </ng-template>
</p-menu>
