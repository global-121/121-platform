<div class="dialogue-turn  ion-align-items-start"
     [ngClass]="{
       'is-connected': isConnected,
       'is-other ion-justify-content-start': !isSelf,
       'is-self ion-justify-content-end': isSelf,
       'is-pending': animate && !isSpoken,
       'is-spoken': animate && isSpoken
     }"
>
  <div class="dialogue-turn--actor">
    <ion-avatar *ngIf="isSystem" style="border-radius: 0 !important;">
      <img src="./assets/logos/avatar--121.svg">
    </ion-avatar>
    <ion-avatar *ngIf="isSelf" style="background:#2f4bfd; display:flex;">
      <ion-icon name="person" color="light" size="large" style="margin:auto;"></ion-icon>
    </ion-avatar>
    <div *ngIf="!isSystem && !isSelf && isNgoA; else noLogo">
      <ion-avatar style="border-radius: 0 !important;">
        <img [alt]="actor" src="./assets/logos/ngo-a.png">
      </ion-avatar>
    </div>
    <ng-template #noLogo >
      <ion-avatar *ngIf="!isSystem && !isSelf" style="color:black; background:white; display:flex;">
        <b style="margin:auto">{{ actor }}</b>
      </ion-avatar>
    </ng-template>
  </div>
  <div class="dialogue-turn--content">
    <ion-card [color]="isSelf ? 'light' : 'dark'">
      <ion-card-content>

        <ng-content></ng-content>

        <ion-note class="ion-float-end ion-text-end"
                  [color]="isSelf ? '' : 'light'"
        >
          <small>{{ moment|date:"EEEE, d LLL" }} - <strong>{{ moment|date:"HH:mm" }}</strong></small>
        </ion-note>
      </ion-card-content>
    </ion-card>

    <span class="dialogue-turn--speech-arrow"></span>
  </div>
</div>
